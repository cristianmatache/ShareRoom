<!--
  Generated template for the ChatPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="light">
    <ion-title (click)="openFriendProfile()">
      <img [src]="friend?.profile_picture" style="margin-top: 10px; margin-left: 20px; width: 30px; height: 30px; border-radius: 15px; float: left;">
      <h3 style="font-size: 18px; color: white; margin-left: 5px;">{{friend?.display_name}}</h3>
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ul>
    <li *ngFor="let message of messages">
      <div *ngIf="isOther(message)" class="chat-bubble chat-bubble-other">
        <img [src]="friend?.profile_picture" class="chat-bubble-img-other">
        <div class="chat-bubble-text-other">{{message.text}}</div>
      </div>
      <div *ngIf="!isOther(message)" class="chat-bubble chat-bubble-me">
        <div class="chat-bubble-text-me">{{message.text}}</div>
      </div>
    </li>
  </ul>
</ion-content>

<ion-footer no-padding>
  <ion-toolbar>
    <form (ngSubmit)="sendMessage()">
      <ion-item id="input-bar">
        <ion-input name="textInput" (ngEnter)="sendMessage()"
                   [(ngModel)]="input"
                   type="search"
                   placeholder="Say something..">
        </ion-input>
      </ion-item>
    </form>
  </ion-toolbar>
</ion-footer>
